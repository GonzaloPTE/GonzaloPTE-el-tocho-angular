<main class="flex-grow container mx-auto px-4 py-8">
    <div *ngIf="category()" class="max-w-4xl mx-auto space-y-8">
        <app-breadcrumb [items]="breadcrumbItems()" [showBackButton]="true"></app-breadcrumb>

        <div class="rounded-2xl shadow-xl p-6 border bg-white border-stone-200 dark:bg-stone-800 dark:border-stone-700">
            <div class="flex items-center space-x-6 mb-8">
                <div
                    class="w-24 h-24 flex-shrink-0 rounded-full flex items-center justify-center text-white font-bold shadow-lg bg-stone-800 dark:bg-stone-600">
                    <span class="text-4xl">{{ category().letter.toUpperCase() }}</span>
                </div>
                <div>
                    <h1 class="text-2xl sm:text-4xl font-bold mb-2 text-stone-800 dark:text-stone-100">
                        {{ category().description }}
                    </h1>
                    <p class="text-lg sm:text-xl text-stone-600 dark:text-stone-400">
                        {{ songsForCategory().length }} {{ songsForCategory().length === 1 ? "canción encontrada" :
                        "canciones encontradas" }}
                        {{ searchTerm() ? ' para "' + searchTerm() + '"' : ' en esta categoría' }}
                    </p>
                </div>
            </div>
            <app-category-song-list [songs]="songsForCategory()" [categoryName]="category().description"
                [currentSearchTerm]="searchTerm()" [basePath]="'/categorias/' + category().slug" sortBy="code"
                sortOrder="asc" [isSearching]="!!searchTerm()"></app-category-song-list>
        </div>
    </div>

    <div *ngIf="!category()" class="text-center py-20">
        <h1 class="text-2xl font-bold">Categoría no encontrada</h1>
        <p class="text-stone-600 dark:text-stone-400">La categoría que buscas no existe o no está disponible.</p>
        <a routerLink="/categorias" class="text-sky-600 hover:text-sky-400 mt-4 inline-block">Ver todas las
            categorías</a>
    </div>
</main>